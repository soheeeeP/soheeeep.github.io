{"componentChunkName":"component---src-templates-blog-template-js","path":"/opensource/backend.ai/changelog/","result":{"data":{"cur":{"id":"d504a96e-88b2-5e8f-82b2-7d6d631fb030","html":"<h2 id=\"issue-contents-691\" style=\"position:relative;\"><a href=\"#issue-contents-691\" aria-label=\"issue contents 691 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Issue Contents <a href=\"https://github.com/lablup/backend.ai/issues/691\">#691</a></h2>\n<p>release note(<code class=\"language-text\">CHANGELOG.md</code>)에 커밋 히스토리 기록을 추가하도록 <code class=\"language-text\">scripts/extract-release-changelog.py</code>를 수정한다.</p>\n<br>\n<h2 id=\"ideation--issue-solving\" style=\"position:relative;\"><a href=\"#ideation--issue-solving\" aria-label=\"ideation  issue solving permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ideation &#x26; Issue Solving</h2>\n<p>이전에 release된 버전의 tag와 현재 release된 버전의 tag를 얻어와서, 전체 커밋 히스토리를 조회할 수 있는 링크를 CHANGELOG에 추가하면 될 것 같았다. 기능상으로 유의미한 변화를 가져오지는 않지만, 사용자(오픈소스 기여자 및 프로젝트 관리자) 편의성을 충분히 개선시킬 수 있는 작업이라고 생각했다.</p>\n<ul>\n<li>스크립트 내부에서 git shell command를 실행하기 위해 <code class=\"language-text\">subprocess</code> 라이브러리(파이선 스크립트에서 다른 프로세스를 실행, 출력할 수 있다)를 사용 (<a href=\"https://github.com/lablup/backend.ai/pull/721/commits/1a3063b6aba73dce499265d79b81271397cd81d3\">1a3063</a>)</li>\n<li>이전~현재 버전 사이의 커밋 히스토리는 <code class=\"language-text\">/compare/{prev_tag}...{current_tag}</code> 링크를 통해 조회할 수 있었다. 스크립트를 실행하면 생성되는 <code class=\"language-text\">CHANGELOG_RELEASE.md</code>에 해당 링크가 추가되도록 수정했다. (<a href=\"https://github.com/lablup/backend.ai/pull/721/commits/1a3063b6aba73dce499265d79b81271397cd81d3\">1a3063</a>)</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADPklEQVQ4y4XUy5KbRhiGYS7AoxPiDA3d0JxBgITko+wkFe+8TCW+/wt5UzD2eGyn4sVTX/9fs6IbjLCcEeNEXA7IciQpBlQ9rSLdY0c5Vqixwvx/aGxRsHcERtB9ws5eEeczWfuWrLuT1XeS4g1ucmbv1+z95teCjp2dYBxVyCHwcP2ISGmcWLKxHbaOx8712DruT772u3X21uc3ts3m6GLovyayDx3q3NLcX9K8m9G3CXXtCacS75ThD5pgKtcMzzXBWBCNOfG5XHu7SbBawT4MMPTfE+Je4Z8ystc9xesR/XJE3k6IucUfc8S1WzM8V0RTjjiXJHONmBucPuVYR9hdzD4KMIKrxKtiZJ6SdhWeljgqwUkTzNhnL1z2wvuP9L7Nkbvm8hoMW96wgoYkHQnViVB1JIkmEpqDm7GxFNufyGee9WaIcWw/spcXzLjFkidcNeLKka1f8sLRvHDyZzQPbsGDV/5g6So2Vozx0g8pTYcilAxZx0m11CInDxTal2g/Ifdj8iAhD1NSO0AeHKTpPOYXynSwDy7G738OTGPBMHRcbzPjNDENI9M4Ml9mur6hrDVNW1J3FXkuyVSIzuLvFDrG9QMM+fmM+K3F7hTp+yvi1UDyZiJ5c0a+u5Deb6j7leTthezdTP7+SnafCeaKfRNhtoJDIzD7mN1yyn4rsGSAHQnitieqG8KqXomqwteauGlI6hpPSaxYrPa+y85zvvEdtpaL4VYfMcUZXw1E+kKYtETFjaB4xSFoeDimPFjZdzaWZuvkzxRs3ZLtcii2umIGNdtjQiA78v4tsb4SyBE37jl4+RMzKDn4xbreL51frLlcmY0l2SzXZq4VZRwROS6J73PqBsbhQlt1NEWFloo0TlZ5mqFV+jR/3ROeR+y5WJaHUf1zJv3QYlURwZCibh3x3CDWz6zA7xVuJ594ix+7Ze4lh+VQ4j8qwrNmLz2sXCAvA3KeiM8nkqlHnnvCvsSpUvy2wGv0ml/XC7fOOOYRW8/DOEYNO0fxcAjYWQKR9ahyxAkKnDDn6C97IQ/mInh0+JJm+GRjRmxMH8M7feKobo8/0qDFigfseMQSI04ycRSntf+lsGNrJfwLI54MyFcMabUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"os-changelog-001.png\"\n        title=\"os-changelog-001.png\"\n        src=\"/static/207fe9451ae02d93a70b8a1ae9f8e02c/37523/os-changelog-001.png\"\n        srcset=\"/static/207fe9451ae02d93a70b8a1ae9f8e02c/e9ff0/os-changelog-001.png 180w,\n/static/207fe9451ae02d93a70b8a1ae9f8e02c/f21e7/os-changelog-001.png 360w,\n/static/207fe9451ae02d93a70b8a1ae9f8e02c/37523/os-changelog-001.png 720w,\n/static/207fe9451ae02d93a70b8a1ae9f8e02c/0eb6d/os-changelog-001.png 913w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><em>scripts/extract-release-changelog.py</em></p>\n<h2 id=\"주요-변경개선-사항\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD%EA%B0%9C%EC%84%A0-%EC%82%AC%ED%95%AD\" aria-label=\"주요 변경개선 사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주요 변경/개선 사항</h2>\n<ul>\n<li>반영완료 <a href=\"https://github.com/lablup/backend.ai/pull/721\">#721</a></li>\n</ul>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#issue-contents-691\">Issue Contents #691</a></li>\n<li><a href=\"#ideation--issue-solving\">Ideation &#x26; Issue Solving</a></li>\n<li><a href=\"#%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD%EA%B0%9C%EC%84%A0-%EC%82%AC%ED%95%AD\">주요 변경/개선 사항</a></li>\n</ul>\n</div>","excerpt":"Issue Contents #691 release note()에 커밋 히스토리 기록을 추가하도록 를 수정한다. Ideation & Issue Solving 이전에 release된 버전의 tag와 현재 release된 버전의 tag를 얻어와서, 전체 커밋 히스토리를 조회할 수 있는 링크를 CHANGELOG에 추가하면 될 것 같았다. 기능상으로 유의미한 변화를 가져오지는 않지만, 사용자(오픈소스 기여자 및 프로젝트 관리자) 편의성을 충분히 개선시킬 수 있는 작업이라고 생각했다. 스크립트 내부에서 git shell command를 실행하기 위해  라이브러리(파이선 스크립트에서 다른 프로세스를 실행, 출력할 수 있다)를 사용 (1a3063) 이전~현재 버전 사이의 커밋 히스토리는  링크를 통해 조회할 수 있었다. 스크립트를 실행하면 생성되는 에 해당 링크가 추가되도록 수정했다. (1a3063) scripts/extract-release-changelog.py 주요 변경/개선 사항 반영완료…","frontmatter":{"date":"September 14, 2022","title":"(Backend.AI) 691. Add the commit history between releases in the release notes","categories":"오픈소스","author":"소희","emoji":"👩🏻‍💻"},"fields":{"slug":"/opensource/backend.ai/changelog/"}},"next":{"id":"fe2693b9-e6d4-502c-9466-928fa5ba723d","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>db에는 여러 종류의 table이 존재하며, 서비스의 business layer에서는 필요에 따라 각 table에 접근하여 query를 수행해야 할 것이다. ORM같은 프레임워크 툴을 사용하지 않고 raw query를 전부 선언하여 사용하는 경우, 이 query들을 어떻게 작성하는게 좋을까? 전부 하나의 class에 method로서 선언하기? create, update등 용도에 따라 분리하기?</p>\n<p><code class=\"language-text\">entity</code>, <code class=\"language-text\">interface</code>, <code class=\"language-text\">repository</code> layer를 각각 추상화하여 코드를 작성하며 내가 그리고자 했던 파이선 아키텍쳐가 어떤 모습이었는지 기록해보려 한다.</p>\n<br>\n<h2 id=\"solid-원칙-객체지향설계-5원칙\" style=\"position:relative;\"><a href=\"#solid-%EC%9B%90%EC%B9%99-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%84%A4%EA%B3%84-5%EC%9B%90%EC%B9%99\" aria-label=\"solid 원칙 객체지향설계 5원칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SOLID 원칙: 객체지향설계 5원칙</h2>\n<p>로버트 마틴이 2000년대 초반에 명명한 객체 지향 프로그래밍 및 설계에 대한 5원칙이다. 코드의 가독성과 확장성을 위한 가장 기본적인 원칙이라고 볼 수 있다</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Type</th>\n<th align=\"center\">Name</th>\n<th align=\"center\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">SRP</td>\n<td align=\"center\">단일 책임 원칙 (Single Responsibility Principle)</td>\n<td align=\"center\">한 클래스는 하나의 책임만 가져야 한다</td>\n</tr>\n<tr>\n<td align=\"center\">OCP</td>\n<td align=\"center\">개방-폐쇄 원칙 (Open-Closed Principle)</td>\n<td align=\"center\">소프트웨어 요소는 확장에는 열려 있으나 변경에는 닫혀 있어야 한다</td>\n</tr>\n<tr>\n<td align=\"center\">LSP</td>\n<td align=\"center\">리스코프 치환 원칙 (Liskov Substitution Principle)</td>\n<td align=\"center\">프로그램의 객체는 프로그램의 정확성을 깨뜨리지 않으면서 하위 타입의 인스턴스로 변경할 수 있어야 한다</td>\n</tr>\n<tr>\n<td align=\"center\">ISP</td>\n<td align=\"center\">인터페이스 분리 원칙 (Interface Segregation Principle)</td>\n<td align=\"center\">클래스는 자신이 사용하지 않는 메소드에 의존하지 않아야 한다</td>\n</tr>\n<tr>\n<td align=\"center\">DIP</td>\n<td align=\"center\">의존관계 역전 원칙 (Dependency Inversion Principle)</td>\n<td align=\"center\">구체화가 아닌 추상화에 의존해야 한다</td>\n</tr>\n</tbody>\n</table>\n<br>\n<h2 id=\"인터페이스-분리-원칙isp란\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B6%84%EB%A6%AC-%EC%9B%90%EC%B9%99isp%EB%9E%80\" aria-label=\"인터페이스 분리 원칙isp란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인터페이스 분리 원칙(ISP)란?</h2>\n<blockquote>\n<p><b>인터페이스 분리 원칙(ISP, Interface Segregation Principle)</b>이란, 하나의 클래스(인터페이스)는 그 ‘책임’에 적합한 메소드만을 가지고 있어야 한다는 원칙이다.</p>\n</blockquote>\n<br>\n<p>예를 들어보자. 아래의 코드에는 <code class=\"language-text\">config</code>와 <code class=\"language-text\">user</code>. 두 개의 서로 다른 table에 접근하는 method들이 하나의 클래스에 선언되어 있다. 만약 이 클래스를 <code class=\"language-text\">interface</code>로 상속받는 구현체 클래스를 선언한다면, 우선적으로 필요한 table에 대한 query method 뿐만 아니라 다른 table에 대한 method까지 구현해야 할 것이다.</p>\n<p>즉, 특정 도메인에 속해있지 않은 method에 의존적인 모습을 보이고 있다고 할 수 있다. 물론 구현하지 않고, 위 예제처럼 pass로 돌려버려도 에러를 뱉진 않지만.. 잘 설계된 코드라고 할 수는 없을 것 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAklEQVQ4y6XSTY/SQBgH8N6M3OQw3oGjxs9k9itIjBe/hMZ4WC9+AZNNBIJGVhKWRdeXsKTbVCgthF3otB06faG0necxZRdEYnzbf/LPTCaZX55kRqLtT1L3oHaj+folOXj7iig9hXzofCQnp0fka/cLqdXqpFKpknr9Ddnff0GqlSppvm+Sw8YhabxrkFarRXqnvdud487N2cyUJESU5KPj+zO9F5w746lNLeo4NnVMRh3LocOhRs9kmY4MnQ41jdoWpb7HKXdd6nFO58y5sC0rGWra48xagZ2Tzw/nPEBm+dj/ZmBfN3CgnmO/P0J9PMEL00buR7hMABexwCgGjLI1AfTCJTI3QEUdPNuAZ4pajhOBy0WSzCkX5tQSzJ0LmzHB5lz4wUIkAkS606uzJSKiboyfbEBFOSsLkSIApAs3BM5cjKIFBkGAHucYRRFeBnAnAABxthmNRk+3QKWcihRFKtKABeA6Lvq+j57nYRzHKIRY397tb8A0RRCQBswHzvgKzCbMLq6x7XU93i9BWZbLSZIgpJByiwOzGHKPYxiGyPkVHgY/Tfkn8MEKBIiTZSLiKBYA8FcVQqwexTCMH4+iquojvGYmk8nzDdhut/ds255SSjVKqf4vNU1zwBizu93u5cfOksvlbhWLxTuFQuHe/7RUKt3N5/NE2k6mX6dr4zt3n07ReFZyWQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"python-abmethod-001.png\"\n        title=\"python-abmethod-001.png\"\n        src=\"/static/5f4202a921849e0dfae05f3d6c50efa4/37523/python-abmethod-001.png\"\n        srcset=\"/static/5f4202a921849e0dfae05f3d6c50efa4/e9ff0/python-abmethod-001.png 180w,\n/static/5f4202a921849e0dfae05f3d6c50efa4/f21e7/python-abmethod-001.png 360w,\n/static/5f4202a921849e0dfae05f3d6c50efa4/37523/python-abmethod-001.png 720w,\n/static/5f4202a921849e0dfae05f3d6c50efa4/302a4/python-abmethod-001.png 1080w,\n/static/5f4202a921849e0dfae05f3d6c50efa4/21b4d/python-abmethod-001.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><em>QueryMethodInterface</em></p>\n<br>\n따라서 아래와 같이 두 개의 클래스로 책임을 분리해주었다. 이제 table에 대한 독립적인 query class를 구현할 수 있게 되었다.\n여기서 우리가 잊지 말아야 할 포인트는,\nISP란 하나의 `interface`에 하나의 '기능(method)'만 존재해야 한다는 것이 아니라, <b>하나의 '일(TASK)'를 처리하기 위한 모든 '기능(method)'가 포함되도록 구성되어야 한다</b>는 것이다.\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDElEQVQ4y6WST2/TMBiHe0P0Rg/m3D9H0D4T4itQIS58CRDiC3BA2xG00cvaSiN0q1pUtrYL7boGmkWxkzhOnLVJ7Bc5pe1Am1TET3qU11b8+LXsnNPq5k4/1O4dHbxDe/vvUeeki9rtDjr5pqFur4O6X3vo4/4B2t3dQ59qNdRoNlG93kD1RhMdHtbR0WcNnZ71H35pHd+3McnlACA30FpP7OkZt3zT8qmPXdfBHqbYJS4mhODRaITHoxFWCYMAM8ZwoAgYpp535TgkmUwmL5UrEx63u89dGgIlHAzDgvPxBYx1E/TvlzCZ/oQr24EgWsA8kXAdrxDZWM17PoehPn6zFg7P9WqcCphHccJIKGyLCMp84VFfUMpEyK9FKuRdLAAApsaPVxvhYFAVIgUpZBo4gfRdCoyxDCkFLCPhlkgpZawKwzBeb4TDYTVNU5Ag0zROZTJP1J8ZN1aCGq7mf3O3MEkSiLwoJRaRM3MGtm2DaZpZl3Ecr6V/t3ersN/vZ0J1ZE65pA6FKIqAc56xWCxudCm3Ej5TXYhUxAwz4RFPMMYE51wEQSDCMMxqABBSyj8QQiwvZTrdXIqu6y8226pl8M+ZzWZv10JN0546jmNhjC8IIZcKjPFW2LY99jzP6fV6y4etks/nH5TL5UelUmmnVCztFIvFnazekkql8rhQKKBMtrKq7/+wcv0Cx9xSLa1DiqoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"python-abmethod-002.png\"\n        title=\"python-abmethod-002.png\"\n        src=\"/static/11975427c4e41f388017d02645ddbd55/37523/python-abmethod-002.png\"\n        srcset=\"/static/11975427c4e41f388017d02645ddbd55/e9ff0/python-abmethod-002.png 180w,\n/static/11975427c4e41f388017d02645ddbd55/f21e7/python-abmethod-002.png 360w,\n/static/11975427c4e41f388017d02645ddbd55/37523/python-abmethod-002.png 720w,\n/static/11975427c4e41f388017d02645ddbd55/302a4/python-abmethod-002.png 1080w,\n/static/11975427c4e41f388017d02645ddbd55/21b4d/python-abmethod-002.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h2 id=\"abcabcmeta를-통해-추상-클래스-선언하기\" style=\"position:relative;\"><a href=\"#abcabcmeta%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%B6%94%EC%83%81-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%84%A0%EC%96%B8%ED%95%98%EA%B8%B0\" aria-label=\"abcabcmeta를 통해 추상 클래스 선언하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>abc.ABCMeta를 통해 추상 클래스 선언하기</h2>\n<p>그렇다면 이제 위에서 선언한 클래스를 추상화시켜서 <code class=\"language-text\">interface</code>로서 동작하도록 만들어보자.\n<code class=\"language-text\">interface</code>로서 동작할 추상 클래스에 <code class=\"language-text\">entity</code>에 종속적인 query method들을 추상 메소드로 선언해줄 것이다.</p>\n<p><code class=\"language-text\">ABCMeta</code>는 파이선에서 지원하는 추상 metaclass이다. 생성할 추상 클래스에 <code class=\"language-text\">metaclass=abc.ABCMeta</code>를 지정하고, <code class=\"language-text\">@abstractmethod</code> 데코레이터를 붙여서 추상 메서드를 지정할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 105.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAADD0lEQVQ4y5WUy47jNhBF/SvBxJZIiqQoUtT7YbvbjcFsggBJNgGCPP//D04g2u5p93QWWVyQosTiLdZR7X768y9+/v0ffvntb3789Q/OX36gm2b6eWHYtByTummhn9dXDff5tv5GuzCdccOZbhg5jQ3deqGvHU91Th8M8+mZeT0TY2SYlptWpu2QYUJrTVEUr9pVPuAqnx5EniGlQIocJbI0pue0to0SoQrkTUII8jxDpO9k0s7XDS5EvLMEIzC6xLpA6eokW/p04HZwVZZ4Jag2FQofIqGOlK5CKXULGGIKGCvLGg6si2VaWtbzwHruGJeGuu0I7UgMNX1xoC0yOqvSnW3px6ZDFcVXh1WIKF2iteDz8TumYc/L6cDTsudyzOhrSVtJmmCwJlCWgVxK8iwjyzJEfk15c7mrbgGtLTFKErXi3Go+jyWNLxliydhY5s4yNo5gApV1afN7PTg01iKkJBOKSguMFBxySfYggZBX3R3dx28CFtpiTc759Imu2zOOe5b5e8Zhj9YSJT929H5tF2J3c1hSasGlzbjMlufJ8uVkeVkDg+uJPqKKj4N8GNCWJUpenZyCYKw2rlTi83GTvOljt7vQdDhfp5RzIRPEG6gPyvMrxFIhbsrz/Ar1mwqnOwyxxfkr2LXJscbhqgZXxQT2NiaAQ6DWCl9IfCEIoU78+bCZ0V8d1slhpHaW2R84nzXrKbKeataTZ14DPjZUviHqnFgcaIqcpmnoxpmm7THGPqZcpVNKzAb28ompF3w+S16OgssqGKNi6S3R1Xhbo4y5pZy//scPKd+LopXEa8UpFjx1Bl8aameIXtNHi7cOZ1xK8T+LUt+KstnewN4uPoGtBJmQ5FsxxBXqbX6H+lVKPqCUAl5TvoL9vIHdHxjGPcdlzzRkGL19XLxBqLjpIw6bK4faWGwheGoyXmbDZdJcVscQGkJRUsdI24/UTYtzkTr2j07v/TC2Xep13vvUfZXSHGvFFApUsXVjjdZFerfJGPM6f9+tU8fu+wFXVbRtS1mWlNYmt8mx/f/6F/pBk5BumC7AAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"python-abmethod-003.png\"\n        title=\"python-abmethod-003.png\"\n        src=\"/static/b3c5b86d61103d9544544bd65027f504/37523/python-abmethod-003.png\"\n        srcset=\"/static/b3c5b86d61103d9544544bd65027f504/e9ff0/python-abmethod-003.png 180w,\n/static/b3c5b86d61103d9544544bd65027f504/f21e7/python-abmethod-003.png 360w,\n/static/b3c5b86d61103d9544544bd65027f504/37523/python-abmethod-003.png 720w,\n/static/b3c5b86d61103d9544544bd65027f504/f79fa/python-abmethod-003.png 940w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h2 id=\"추상-클래스interface를-상속하는-구현-클래스-작성하기\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EC%83%81-%ED%81%B4%EB%9E%98%EC%8A%A4interface%EB%A5%BC-%EC%83%81%EC%86%8D%ED%95%98%EB%8A%94-%EA%B5%AC%ED%98%84-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"추상 클래스interface를 상속하는 구현 클래스 작성하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추상 클래스(interface)를 상속하는 구현 클래스 작성하기</h2>\n<p><code class=\"language-text\">interface</code>를 상속하는 <code class=\"language-text\">repository</code>를 구현하고, 프로그램의 메인부에서 <code class=\"language-text\">repository</code> 클래스의 객체를 생성하고 service layer에서는 이 생성된 객체를 호출하여 사용한다. (단, 추상 클래스에 선언된 method는 반드시 전부 구현되어야 한다.)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.111111111111107%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVQY0z3N3VKCUBiFYe+m1DrIZhAFhM0Ggb03IBh/aVY63f8lvI3QdPDM+mYdrG/mOxZr20aEgvJQYnJNXhiUVmRKoY0hyRT7NCPThiRNCIIdgQgIhBiJMMT1PBzXZbZePbNYLPD8gO5yox4+6S9XmvMXzcdt0g+0XUcznGjO32PXni707wNt39MNA2VVkZcls8XTfXCO7Xjsy5Yob5C6mpi3UaxyMq3YK01sauJ86lKlSO5dmv3nbLlc8vj4wHrrYYYfVHelaE4U9XGUVzXmcCQqWsKiR94fmiOy6IhMjUw1MjV/9DQ4n895Wb2yEyGeLwhkhJAxgYzxwwhfSGw/xvITrN0eazfdtiewNlusjTOyty6/9aW21B2QLsAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"python-abmethod-004.png\"\n        title=\"python-abmethod-004.png\"\n        src=\"/static/ede833e622a0f9d5cb109366c9a756e8/37523/python-abmethod-004.png\"\n        srcset=\"/static/ede833e622a0f9d5cb109366c9a756e8/e9ff0/python-abmethod-004.png 180w,\n/static/ede833e622a0f9d5cb109366c9a756e8/f21e7/python-abmethod-004.png 360w,\n/static/ede833e622a0f9d5cb109366c9a756e8/37523/python-abmethod-004.png 720w,\n/static/ede833e622a0f9d5cb109366c9a756e8/302a4/python-abmethod-004.png 1080w,\n/static/ede833e622a0f9d5cb109366c9a756e8/2cffa/python-abmethod-004.png 1092w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYklEQVQ4y3WU61LbOhRG8zQQ32VJlmU5cUInDgdimhgTLgVK22nL+z/BOmMlw+mh7Y812pJGn7Zmf1uTVddztRvYXO1oPqxpFksWztAsz1h8aLGuxpQV2pTowvwVVRhKWzIRypBnKVKkKGMppKBIpyhdeKE8l4hcEgQBQTAlDAPC4HfG/SQOmaiiJM9zsiQiEwIxxrkky8RxLslE7teTNCUMQ6Io+iNhGDGRo6DIsEZTVjX1fEE9a5BKk0uJUhopFVIp0jQliv4uODLR1pFkOWkU4JTAlYraKmyRIxLBNIg4OTnl9OSU6XR8Wvg/pu/iiTYWqSRapdhC8s/KMnys+bip2ZyXdOcFlxeOi4uadWtYt5r1SrNuC87fszZMpLY0jeGmd1xvLffDjO+flvx4mPN6X/F6Z/n21PL1pePlseXu9uzAMGM/zLnxY+PjoXejYMlsXnC9q9heWYZhwcuXnufPHV8fW15vLT9vLZ/3jud9zfPdkqenDY8PKx7uW+73C273Z56bvmaS6/KQ4bVj6Gt225p+27DbLtht5/RdSd9Zuk3F5rKkuzRsLgzdpaXz81/Y2NE2lsIoZjOJc5I4ibzXYl/N/yoaxxFJMhIfif7IpLCO1Fc5RIsEozJ0LknTDJHFRxKyLPE+G314GH8lfONNMIsjrFLUzmJMSVko2kawanLas4JmWftMgzA4cOyO90b3tkmzzG+MXWEKS2kdVT3HuoZCW6ydUdUN9XxJLiR5Jsml8vizR2GfobGO0ii0TNEixmqFdTOsrahcTVlWPjbmcMm45tzcfwi+ZYUgSZI3/gXMKc0lRrwv3AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"python-abmethod-005.png\"\n        title=\"python-abmethod-005.png\"\n        src=\"/static/6d40f3fc3ade8814408b07e6cfd8640f/37523/python-abmethod-005.png\"\n        srcset=\"/static/6d40f3fc3ade8814408b07e6cfd8640f/e9ff0/python-abmethod-005.png 180w,\n/static/6d40f3fc3ade8814408b07e6cfd8640f/f21e7/python-abmethod-005.png 360w,\n/static/6d40f3fc3ade8814408b07e6cfd8640f/37523/python-abmethod-005.png 720w,\n/static/6d40f3fc3ade8814408b07e6cfd8640f/302a4/python-abmethod-005.png 1080w,\n/static/6d40f3fc3ade8814408b07e6cfd8640f/21b4d/python-abmethod-005.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>즉 프로그램에서, 해당 <code class=\"language-text\">entity</code>에 대해 존재하는 <b>유일한</b> <code class=\"language-text\">repository</code>로서 동작하도록 하는 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABQklEQVQoz02RWW7jMBBEdZgkorhbViRSpFbLTnL/A72BOHZmPgrdBIiH6qpqWna244swZoYxs+x35v3B3H+yeEW6WNpw5RoudEOHtY6mEUgpkU1TplLq71sqqpgm8rIRY2JKmZwyYRiY81QUwsi03pi3W/k3xIS1toCd92U/gS9o1QhBXde0smbV7yT1zmE/2PQbuXVM28F6e7Dud7b7N/N6KxfN20GICecsQoji7oRWWmukUvRGMtuGpUiw2pq180x99wvbjm/2+09xumwHMY50/cDnEND66VDKBtE0tEqwmA+yrhl1zWpqsnwjeUNed6anTtCZ++k6L3uBhzGhlCzGKuc8167He0/rHRfn8NaWvfUeZy3mJWNKduaZoTG26JVfOfnMYcwLfYj0YSyh93EsjYc0cbl2/1r9r9nf+dSrlD88sOB8JNuPBwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"python-abmethod-006.png\"\n        title=\"python-abmethod-006.png\"\n        src=\"/static/2b9efe8a54e5d68d55901d9ff87db5f6/37523/python-abmethod-006.png\"\n        srcset=\"/static/2b9efe8a54e5d68d55901d9ff87db5f6/e9ff0/python-abmethod-006.png 180w,\n/static/2b9efe8a54e5d68d55901d9ff87db5f6/f21e7/python-abmethod-006.png 360w,\n/static/2b9efe8a54e5d68d55901d9ff87db5f6/37523/python-abmethod-006.png 720w,\n/static/2b9efe8a54e5d68d55901d9ff87db5f6/302a4/python-abmethod-006.png 1080w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><em>구현 클래스 객체를 db와 연결한 예시</em></p>\n<br>\n<p>예를 들어보자.\n내가 config table에 접근하여, 값을 수정하는 update method를 수행하고 싶다면? 반드시 <code class=\"language-text\">database.config_repository.__method__</code>를 통해서만 접근이 가능하게 되는 것이다. 실제로 이 update에 관련된 <code class=\"language-text\">__method__</code>에서 어떤 동작들이 수행되는지는 저 method명으로 추상화되어 있기 때문에 service layer단에서 볼 수 없다.\n아래 소스코드 예시처럼 접근하여 사용하였다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA60lEQVQY023Q246FIAyFYV/HFkRUPACKh/3+r/RPZCeTTDIXX9qLtslq0xlhHS1p7omzIy2etPSswbHNnnkIdNYiraCqGGNQY2q11mJt9+2NYFRp3qHBKXkI5C1zPR/u5+G8H87rplwfjhTZl40Yd3K5OUshbithXlljYpomll4IvaERUXorrM6zhEQ6Cvm4OM6HmAt7uauSEzkepOPiKTt5DfTDyDiFynfK5PR70Fll8YbBObyf8X7C9R3dHw5jbI33RlNpERHatq1qL0IjKljtCH5k2zZiOhmnGTWK7Uxl7PszrUu/3qP/+AFwZp6dtnxYHAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"python-abmethod-007.png\"\n        title=\"python-abmethod-007.png\"\n        src=\"/static/5d3f132b74cc91b017c7133af3da0e6c/37523/python-abmethod-007.png\"\n        srcset=\"/static/5d3f132b74cc91b017c7133af3da0e6c/e9ff0/python-abmethod-007.png 180w,\n/static/5d3f132b74cc91b017c7133af3da0e6c/f21e7/python-abmethod-007.png 360w,\n/static/5d3f132b74cc91b017c7133af3da0e6c/37523/python-abmethod-007.png 720w,\n/static/5d3f132b74cc91b017c7133af3da0e6c/302a4/python-abmethod-007.png 1080w,\n/static/5d3f132b74cc91b017c7133af3da0e6c/21b4d/python-abmethod-007.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>아키텍쳐에 관심이 많아서 책이나 자료를 찾아보고, 혼자 열심히 고민하며 코드를 구상했고 나름의 기준을 가지고 설계했다.\n혼자 A부터 Z까지 결과물을 만들어본게 처음이라..🤯  코드의 유지보수성을 증가시키고 접근성을 용이하게 하자 라는 생각에서 시작된 아키텍쳐 설계가 오히려 단순한 코드를 더 복잡하게 만드는 것은 아닐까 고민하기도 했다.</p>\n<br>\n<hr>\n<p>계속 스스로에게 던졌던 질문이다.<br>\n<b><text style=\"color:black;\">“What do we get for this? And what does it cost us?”</text></b></p>\n<br>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ul>\n<li><a href=\"https://www.cosmicpython.com/book/chapter_02_repository.html#maps_chapter_02\">https://www.cosmicpython.com/book/chapter_02_repository.html#maps_chapter_02</a></li>\n<li><a href=\"https://dojang.io/mod/page/view.php?id=2389\">https://dojang.io/mod/page/view.php?id=2389</a> <a href=\"https://realpython.com/python-interface/\">https://realpython.com/python-interface/</a></li>\n<li><a href=\"https://realpython.com/python-interface/\">https://realpython.com/python-interface/</a></li>\n</ul>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B0%9C%EC%9A%94\">개요</a></li>\n<li><a href=\"#solid-%EC%9B%90%EC%B9%99-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%84%A4%EA%B3%84-5%EC%9B%90%EC%B9%99\">SOLID 원칙: 객체지향설계 5원칙</a></li>\n<li><a href=\"#%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B6%84%EB%A6%AC-%EC%9B%90%EC%B9%99isp%EB%9E%80\">인터페이스 분리 원칙(ISP)란?</a></li>\n<li><a href=\"#abcabcmeta%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%B6%94%EC%83%81-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%84%A0%EC%96%B8%ED%95%98%EA%B8%B0\">abc.ABCMeta를 통해 추상 클래스 선언하기</a></li>\n<li><a href=\"#%EC%B6%94%EC%83%81-%ED%81%B4%EB%9E%98%EC%8A%A4interface%EB%A5%BC-%EC%83%81%EC%86%8D%ED%95%98%EB%8A%94-%EA%B5%AC%ED%98%84-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0\">추상 클래스(interface)를 상속하는 구현 클래스 작성하기</a></li>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</div>","frontmatter":{"date":"February 27, 2022","title":"@abstractmethod를 통한 SOLID 원칙 적용하기","categories":"python","author":"소희","emoji":"💭"},"fields":{"slug":"/python/abstractmethod/"}},"prev":{"id":"d279b56a-6aaf-547e-b33f-aadd4ff79bd6","html":"<h2 id=\"issue-contents-575\" style=\"position:relative;\"><a href=\"#issue-contents-575\" aria-label=\"issue contents 575 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Issue Contents <a href=\"https://github.com/lablup/backend.ai/issues/575\">#575</a></h2>\n<p>vfolder clone, delete와 같은 storage-proxy operation 작업을 수행할 때, 사용자의 접근을 제어할 수 있도록 vfolder 상태값을 관리하려고 한다.</p>\n<br>\n<h2 id=\"ideation--issue-solving\" style=\"position:relative;\"><a href=\"#ideation--issue-solving\" aria-label=\"ideation  issue solving permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ideation &#x26; Issue Solving</h2>\n<ul>\n<li>status값을 관리하기 위한 <code class=\"language-text\">Enum</code>값을 생성하고 이 값을 field로 가지는 <code class=\"language-text\">VFolderStatus</code> table을 생성한다. 새로 생성한 테이블은 FK로 vfolder table을 참조하도록 하자.</li>\n<li>manager의 vfolder api에 정의된 operation(create, clone, delete)에 vfolder status값을 관리하는 쿼리를 추가하자.</li>\n<li>vfolder status에 따라 사용자 접근을 제어하기 위해서 어떤 방법을 사용할까?</li>\n</ul>\n<br>\n<h2 id=\"pull-request-review\" style=\"position:relative;\"><a href=\"#pull-request-review\" aria-label=\"pull request review permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pull Request Review</h2>\n<ul>\n<li>\n<p>테이블을 추가로 선언하는 것이 과연 필요할까? 라는 의문이 들어서, 이슈 작업을 시작하기 전에 멘토님께 아래와 같은 내용을 문의드렸다. 자주 일어나는 오퍼레이션이 아니므로, column을 추가하는 방향이 나을 것 같다는 의견을 주셨다. 따라서 기존 <code class=\"language-text\">VFolder table</code>에 status column을 추가하는 방향으로 진행하기로 결정</p>\n</li>\n<li>\n<p>오퍼레이션 내부에 insert, update, select query문을 작성한다.</p>\n</li>\n<li>\n<p>처음엔 오퍼레이션 내부에서 query transaction을 적용하는 방향으로 진행하려 했었는데, 이 경우는 vfolder에 접근할 수 없는 경우(ex. vfolder delete가 작동중인데, renaming 요청이 들어온 경우)라도 함수 내부에서 예외 처리를 해주어야 했다. 아예 오퍼레이션 자체를 시작할 수 없게 하도록 lock을 걸고 싶었으므로, <b>status를 filtering하는 wrapper method를 작성하고, operation에 decorater를 선언</b>하는 방향으로 진행하는 것이 좋을 것 같았다.</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkUlEQVQoz22SWXLbMBBEdaBIJLESxEYRpLhZdqRy7B/7Qrl0pzCkVZXEH12YwdQ8NIA5vH38xnVacF8nvEwjlnHEst7Q9TPOaYKqA5i04MqBiQZMWMq3+G8J5XDQZkKTnmCnG/x8R1x/kbrrG8J8h/GJoMa2cCGhcR0ad4b1Cc4nhHaAjz3VpPY4MFEjjVdM6w3Pt3e8vn9ierojphlNGKi5biKBYnuBCz3JxwGhvdAt4nmkmIBcOkjlIE0Arz24shCywY8jx7EQOJUSp1LReiwkikqRtj2172m6Mpc2Ay2EsmiHGSGN4DaSI208tAlU46qhlQlD4C/oBpaoeE3v9wBK7RDbgaDcBAI6v71VhnH5D5Bcy++BOcgFJhvEYabHLfOVuUbBNJR2lB9FTVChHU7KouT1A/yfw9N+EheG3FbZCdMomSZXxQ7PjRmUa1/uvgXmH9u+vqcRKavcbEglq6mh2lfKKTa76scMPoBpWHB9ecW8/sRlesY5zUjDirab9gGf0fXLI8/xpq2WZ3L7XIc/42RQZ2JHrvsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"os-vfolder-001.png\"\n        title=\"os-vfolder-001.png\"\n        src=\"/static/9268b91ca78cb6544ebee214f55dc8dc/37523/os-vfolder-001.png\"\n        srcset=\"/static/9268b91ca78cb6544ebee214f55dc8dc/e9ff0/os-vfolder-001.png 180w,\n/static/9268b91ca78cb6544ebee214f55dc8dc/f21e7/os-vfolder-001.png 360w,\n/static/9268b91ca78cb6544ebee214f55dc8dc/37523/os-vfolder-001.png 720w,\n/static/9268b91ca78cb6544ebee214f55dc8dc/914c7/os-vfolder-001.png 978w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><em>이슈 진행방향</em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 701px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnklEQVQI14WNSw6CQBQEOZJiFHBQPkaGPwgDgsaY6Ence+cyM4kLVy4q73XS6bLer4HHs8SWFfu6ZVNUOEHAPjjg+jHLtcBeC3P/oXtWnQcUWcIw31HjlU7NlI1CZg1JVpPmDYekwNmGeH6EKzQhnojw/PgH3bEWqx1idzRj7elsGKebGVbDhV7NdP1EVrSkWiIrjrI0wm/WUv2HseQDo6NsiFqc+n8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"os-vfolder-002.png\"\n        title=\"os-vfolder-002.png\"\n        src=\"/static/2f99d17ebf26e460a1bc5f0103fbb521/49217/os-vfolder-002.png\"\n        srcset=\"/static/2f99d17ebf26e460a1bc5f0103fbb521/e9ff0/os-vfolder-002.png 180w,\n/static/2f99d17ebf26e460a1bc5f0103fbb521/f21e7/os-vfolder-002.png 360w,\n/static/2f99d17ebf26e460a1bc5f0103fbb521/49217/os-vfolder-002.png 701w\"\n        sizes=\"(max-width: 701px) 100vw, 701px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><em>멘토님 가이드</em></p>\n<br>\n<h2 id=\"주요-변경개선-사항\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD%EA%B0%9C%EC%84%A0-%EC%82%AC%ED%95%AD\" aria-label=\"주요 변경개선 사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주요 변경/개선 사항</h2>\n<ul>\n<li><code class=\"language-text\">VFolderOperationStatus</code> Enum 생성 및 vfolder table column 추가 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/c54d8df53509be61483e9949e0f0c1d138783fb3\">c54d8d</a>)</li>\n<li>vfolder status를 확인하는 wrapper method 생성, status check가 필요한 operation에 decorator(@) 선언 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/9c0ef5121635357d3beac21d56a406fd5e09d0a8\">9c0ef5</a> <a href=\"https://github.com/lablup/backend.ai/pull/713/commits/96e5a7d346bc056b586c0d46124859fa88708b3f\">96e5a7</a>)</li>\n<li>operation 내부에 status를 관리하는 query를 추가 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/96e5a7d346bc056b586c0d46124859fa88708b3f\">96e5a7</a>)</li>\n<li>변경한 db scheme에 대한 <code class=\"language-text\">albembic</code> migration script 생성 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/f5cdd18b7f0507bba808eb062b437dec850b7598\">f5cdd1</a>)</li>\n</ul>\n<br>\n<h2 id=\"리뷰-내용-713\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EB%B7%B0-%EB%82%B4%EC%9A%A9-713\" aria-label=\"리뷰 내용 713 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리뷰 내용 <a href=\"https://github.com/lablup/backend.ai/pull/713\">#713</a></h2>\n<ul>\n<li>\n<p>함수의 의도를 더 직관적으로 나타낼 수 있도록 wrapper method와 parameter명을 수정 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/9d2b714cb88e56bb9f2643f7b6ead8c034445896\">9d2b71</a>)</p>\n</li>\n<li>\n<p><code class=\"language-text\">VFolderOperationStatus</code>값 수정 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/5379d1e8038852209932cc7de1610a59714fb278\">5379d1</a>)</p>\n<ul>\n<li>vfolder operation이 수행 중인 경우를 나타내는 값을 <code class=\"language-text\">PREPARED</code> → <code class=\"language-text\">PERFORMING</code>으로 수정</li>\n<li>vfolder 삭제 후의 상태를 나타내기 위해 DELETED 추가</li>\n<li>vfolder의 현재 상태와 오퍼레이션 수행을 위해 필요로 하는 상태값을 구분하기 위해 <code class=\"language-text\">VFolderAccessStatus</code> Enum 추가</li>\n</ul>\n</li>\n<li>\n<p>ready-to-read(<code class=\"language-text\">READABLE</code>), ready-to-alter(<code class=\"language-text\">UPDATABLE</code>) 동작을 구분 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/ad23f376bfb5aa378196438c457522d92a46dee2\">ad23f3</a>)</p>\n</li>\n<li>\n<p>wrapper를 통해 parameter값으로만 전달되며, db scheme에는 반영되지 않도록 구현 (vfolder 현재 상태값을 구분하기 위해서만 사용 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/5fb9a05368b811f333d64a3c3343af0ffbd65768\">5fb9a0</a>)</p>\n</li>\n<li>\n<p>ready-to-read 오퍼레이션에(<code class=\"language-text\">READABLE</code>)도 status filtering decorator를 추가하도록 수정 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/\">c14de5</a>)</p>\n</li>\n<li>\n<p>clone 오퍼레이션에서 vfolder 상태를 수정하는 쿼리분을 <code class=\"language-text\">_clone_bgtask()</code> 함수 내부로 이동. background task가 완료된 직후에 쿼리를 수행할 수 있도록 수정하여 vfolder가 하나 또는 그 이상의 세션에 마운트되었을 경우, 오퍼레이션 수행을 제한하는 부분을 구현 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/27151f5988dd4f54d89744965b2b0db6177e95ba\">27151f</a>)</p>\n</li>\n<li>\n<p>DB 스키마 수정에 따른 alembic migration merge 수행 (<a href=\"https://github.com/lablup/backend.ai/pull/713/commits/348f4b65b3891d4d84a5ebcb28177d67245e4fc8\">348f4b</a>)</p>\n</li>\n</ul>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiElEQVQoz31Sy27bMBDUrSlsyZJIig/xIdp62G5cpMkxKAoUyAfkVKBA//8zplhKMowgyWGwu5Q03JlRJlWA7jvI7wc4P0GYAK4ChA5o2oi6sdjsBLZl8y42BUchAiozIa81sl2tUEmD+O2CbriHjROUO4DrAGG6VJnyH0L7AToMkG5AwTQyuiWvJPz+BK48qsaiFC123Mxgcy1XiBYlb69zIpYufVfUChmRUZMOiYjpNBOoLxPpfEbv5ssCK27l05x9zRm+bCqMpwf0x0uSm6Qqn6qLE2QbIXSXyLdvCK9YSLOfv17w+u8PtgcFY/vZM+mW6hNou4+CmUPxqMyAnCTTBtPlB+x4ROjPMGFMJtN2Kz4LRvs+BXMNhSTfbWv4/RFxvIfxA2rpZt+YTjVhDekmIOpJTb34v4TSoGQWrTuBa58ekCcrUcEMCk4J3gRzgx1v54u5mQk3JUMjJvx+/ovzwyNcPKExHZTdw8URvB0h4hOEOaSfnohX/2hLOz5Bd2eY/QWlsPgPxAn/fn9Km3cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"os-vfolder-003.png\"\n        title=\"os-vfolder-003.png\"\n        src=\"/static/d414b8f55557d49c12b341feef483bdf/37523/os-vfolder-003.png\"\n        srcset=\"/static/d414b8f55557d49c12b341feef483bdf/e9ff0/os-vfolder-003.png 180w,\n/static/d414b8f55557d49c12b341feef483bdf/f21e7/os-vfolder-003.png 360w,\n/static/d414b8f55557d49c12b341feef483bdf/37523/os-vfolder-003.png 720w,\n/static/d414b8f55557d49c12b341feef483bdf/748b0/os-vfolder-003.png 868w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><em>완료</em></p>\n<h2 id=\"\" style=\"position:relative;\"><a href=\"#\" aria-label=\" permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#issue-contents-575\">Issue Contents #575</a></li>\n<li><a href=\"#ideation--issue-solving\">Ideation &#x26; Issue Solving</a></li>\n<li><a href=\"#pull-request-review\">Pull Request Review</a></li>\n<li><a href=\"#%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD%EA%B0%9C%EC%84%A0-%EC%82%AC%ED%95%AD\">주요 변경/개선 사항</a></li>\n<li><a href=\"#%EB%A6%AC%EB%B7%B0-%EB%82%B4%EC%9A%A9-713\">리뷰 내용 #713</a></li>\n</ul>\n</div>","frontmatter":{"date":"September 14, 2022","title":"(Backend.AI) 575. introduce vfolder status","categories":"오픈소스","author":"소희","emoji":"👩🏻‍💻"},"fields":{"slug":"/opensource/backend.ai/vfolder/"}},"site":{"siteMetadata":{"siteUrl":"https://soheeeep.github.io","comments":{"utterances":{"repo":"https://github.com/soheeeeP/soheeeep.github.io"}}}}},"pageContext":{"slug":"/opensource/backend.ai/changelog/","nextSlug":"/python/abstractmethod/","prevSlug":"/opensource/backend.ai/vfolder/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}