{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/django-migration-management/",
    "result": {"data":{"cur":{"id":"6fc79bbb-d121-5bea-9b0c-035b9e3b3545","html":"<p>ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©° ëª¨ë¸ì„ ë³€ê²½í•´ì•¼ í•  ì¼ì´ ìƒˆê²¼ë‹¤.\ní…Œì´ë¸”ì„ ìˆ˜ì •í•˜ê³  migrationì„ ì ìš©í•˜ë©´ì„œ dependency ì˜¤ë¥˜ë¶€í„° relationExists ì˜¤ë¥˜ê¹Œì§€ ì•„ì£¼ ë‚œí•­ì„ ê²ªì—ˆë‹¤.</p>\n<p>ì‚¬ì‹¤ í† ì´í”„ë¡œì íŠ¸ì—ì„œëŠ” migrationì´ ê¼¬ì´ë©´ ê·¸ëƒ¥ ì „ë¶€ ë°€ì–´ë²„ë¦¬ê³  ë‹¤ì‹œ ì ìš©í•˜ë©´ ê·¸ë§Œì´ì—ˆë‹¤.\ní•˜ì§€ë§Œ ì‹¤ì œë¡œ ë°°í¬ë˜ê³  ë°ì´í„°ê°€ ë‹´ê²¨ ìˆëŠ” DBì˜ í…Œì´ë¸”ì„ ìˆ˜ì •í•˜ëŠ” ê²½ìš°ì—ëŠ” ì´ëŸ° 1ì°¨ì›ì ì¸ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ëŠ” ì—†ì—ˆë‹¤.</p>\n<p>ë‹¤ì†Œ ê¸´ ì‚½ì§ˆì˜ ê³¼ì •ì„ ê²½í—˜í•˜ë©°, ë‚´ê°€ migrationì— ëŒ€í•˜ì—¬ ì •í™•íˆ ì´í•´ë¥¼ í•˜ì§€ ëª»í•˜ê³  ìˆìŒì„ ê¹¨ë‹¬ì•˜ë‹¤.</p>\n<p>Â </p>\n<h2 id=\"-migrationì´ë€\" style=\"position:relative;\"><a href=\"#-migration%EC%9D%B4%EB%9E%80\" aria-label=\" migrationì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’¡ Migrationì´ë€?</h2>\n<p>ì¼ì¢…ì˜ database version control logë¼ê³  ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.\n<code class=\"language-text\">python manage.py makemigrations</code> ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ ê° appì˜ ëª¨ë¸ì— ëŒ€í•œ ë³€ê²½ì‚¬í•­ì„ ê¸°ë¡í•œ python scriptê°€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê³ </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ python manage.py makemigrations <span class=\"token punctuation\">[</span>app_name<span class=\"token punctuation\">]</span>\nMigrations <span class=\"token keyword\">for</span> <span class=\"token string\">'users'</span><span class=\"token builtin class-name\">:</span>\n  apps/users/migrations/0002_user_auth_id_user_social_type.py\n    - Add field auth_id to <span class=\"token function\">users</span>\n    - Add field social_type to <span class=\"token function\">users</span></code></pre></div>\n<p><code class=\"language-text\">python manage.py migrate</code> ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ dbì— ë³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•  ìˆ˜ ìˆë‹¤.\nì´ migration scriptëŠ” <code class=\"language-text\">000X_changelog_contents_whatever.py</code> í˜•ì‹ìœ¼ë¡œ ë„¤ì´ë°ë˜ë©°,\nëª¨ë¸ ê°„ì˜ ê´€ê³„(ìƒì„± ìˆœì„œ, ì°¸ì¡° ë°©í–¥ ë“±)ë¥¼ ê³ ë ¤í•˜ì—¬ ìˆœì°¨ì ìœ¼ë¡œ dependencyê°€ ì¡´ì¬í•œë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´, <code class=\"language-text\">BookObject</code> í…Œì´ë¸”ì—ì„œ <code class=\"language-text\">User</code> í…Œì´ë¸”ì„ FKë¡œ ì°¸ì¡°í•˜ê³  ìˆëŠ” ê²½ìš°ë¼ë©´\në°˜ë“œì‹œ <code class=\"language-text\">User</code> í…Œì´ë¸”ì˜ ìƒì„±ì´ ì„ í–‰ë˜ì–´ì•¼ë§Œ <code class=\"language-text\">BookObject</code> í…Œì´ë¸”ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span>AbstractUser<span class=\"token punctuation\">,</span> TimeStampModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    username <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n    email <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>EmailField<span class=\"token punctuation\">(</span>\n        max_length<span class=\"token operator\">=</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span>\n        verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ì´ë©”ì¼'</span><span class=\"token punctuation\">,</span>\n        validators<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>SpecificEmailDomainValidator<span class=\"token punctuation\">(</span>allowlist<span class=\"token operator\">=</span>domain_allowlist<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span>\n    \n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BookObject</span><span class=\"token punctuation\">(</span>TimeStampModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    user <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>ForeignKey<span class=\"token punctuation\">(</span>\n        User<span class=\"token punctuation\">,</span>\n        on_delete<span class=\"token operator\">=</span>models<span class=\"token punctuation\">.</span>CASCADE<span class=\"token punctuation\">,</span>\n        related_name<span class=\"token operator\">=</span><span class=\"token string\">'note'</span><span class=\"token punctuation\">,</span>\n        verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ì‘ì„±ì'</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p>ë”°ë¼ì„œ <code class=\"language-text\">BookObject</code> appì˜ migrationì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ dependency(<code class=\"language-text\">users.migrations.0001_initial.py</code> ì„ ì ìš©í•œ í›„ì— í•´ë‹¹ migrationì„ ì ìš©í•  ìˆ˜ ìˆìŒ)ê°€ ëª…ì‹œë˜ì–´ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Migration</span><span class=\"token punctuation\">(</span>migrations<span class=\"token punctuation\">.</span>Migration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    initial <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n    dependencies <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0001_initial'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span></code></pre></div>\n<p>Â </p>\n<h2 id=\"--ì ìš©ëœ-migration-í™•ì¸í•˜ê¸°\" style=\"position:relative;\"><a href=\"#--%EC%A0%81%EC%9A%A9%EB%90%9C-migration-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"  ì ìš©ëœ migration í™•ì¸í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ”‘  ì ìš©ëœ migration í™•ì¸í•˜ê¸°</h2>\n<p>migration ì ìš© ë‚´ì—­ì€ <code class=\"language-text\">django_migrations</code> í…Œì´ë¸”ì— ì €ì¥ë˜ëŠ”ë°\nì´ ë•Œ ë°ì´í„°ë² ì´ìŠ¤ì— migration ë‚´ìš©ì€ ì €ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ì ìš© ìˆœì„œ, scriptëª…, ì‹œê°„ ì •ë„ì˜ ë°ì´í„°ë§Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<p><img src=\"./%5Bmigration_001.png%5D\" alt=\"migration_001.png\"></p>\n<p>ë”°ë¼ì„œ ì´ë¯¸ ì ìš©ëœ migration scriptë¥¼ ìˆ˜ì •í•œ ë’¤ ë‹¤ì‹œ migrateë¥¼ ìˆ˜í–‰í•œë‹¤ê³  í•´ë„ <code class=\"language-text\">django_migration</code> í…Œì´ë¸”ì— ë³€ê²½ ë‚´ìš©ì€ ì €ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì— ìˆ˜ì • ë‚´ìš©ì´ ë°˜ì˜ë˜ì§€ ì•Šê³  ì¶©ëŒì´ ì¼ì–´ë‚  ìˆ˜ë„ ìˆë‹¤.</p>\n<p><code class=\"language-text\">python manage.py showmigrations</code> ë¥¼ í†µí•´ì„œë„ í•œëˆˆì— migration ì ìš©ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<p><img src=\"./%5Bmigration_002.png%5D\" alt=\"migration_002.png\"></p>\n<p>Â </p>\n<h2 id=\"ï¸-ì´ë¯¸-ì ìš©ëœ-migrationì„-revertí•˜ê³ -ì‹¶ì€-ê²½ìš°\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EC%9D%B4%EB%AF%B8-%EC%A0%81%EC%9A%A9%EB%90%9C-migration%EC%9D%84-revert%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EA%B2%BD%EC%9A%B0\" aria-label=\"ï¸ ì´ë¯¸ ì ìš©ëœ migrationì„ revertí•˜ê³  ì‹¶ì€ ê²½ìš° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤·ğŸ»â€â™‚ï¸ ì´ë¯¸ ì ìš©ëœ migrationì„ Revertí•˜ê³  ì‹¶ì€ ê²½ìš°?</h2>\n<p>ì•„ë˜ì™€ ê°™ì´ Revertí•˜ê³ ì í•˜ëŠ” appì˜ ì´ë¦„ê³¼ migration ë²ˆí˜¸ë¥¼ ëª…ì‹œí•˜ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ python manage.py migrate <span class=\"token punctuation\">[</span>app_name<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>number<span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>ì˜ˆë¥¼ ë“¤ì–´ 0004ê¹Œì§€ migrationì´ ì ìš©ë˜ì–´ ìˆëŠ” User appì´ ìˆë‹¤ê³  í•˜ì.\n<code class=\"language-text\">python manage.py migrate users 0002</code> ë¼ëŠ” ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë©´, 0003 ì´í›„ì˜ migrationì€ unapplyë˜ê³  0002 migration ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë™ì‘í•œë‹¤</p>\n<p>ì´ ë•Œ, ì£¼ì˜í•˜ì—¬ì•¼ í•  ì ì€ ë˜ëŒë¦¬ê³ ì ì‹œì  ì´í›„ì— ëŒ€í•œ migration scriptë¥¼ ì ˆëŒ€ ì‚­ì œí•´ì„œëŠ” ì•ˆëœë‹¤ëŠ” ê²ƒì´ë‹¤!\në°ì´í„°ë² ì´ìŠ¤ëŠ” ì‚¬ìš©ìê°€ ì…ë ¥í•œ ëª…ë ¹ì„ <b>ì¡´ì¬í•˜ì§€ë„ ì•ŠëŠ” migrationì„ revertí•˜ë ¤ëŠ” ê²ƒ</b>ìœ¼ë¡œ ì´í•´í•  ê²ƒì´ë‹¤.\nì‚­ì œëœ migrationì„ ë³µêµ¬í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ë¼ë©´ ì§ì ‘ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ìˆ˜ì •í•´ì•¼ í•œë‹¤.</p>\n<p>Â </p>\n<h2 id=\"ï¸-ì´ë¯¸-ì ìš©ëœ-migration-ë‚´ìš©ì„-ìˆ˜ì •í•˜ê³ -ì‹¶ì€-ê²½ìš°\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EC%9D%B4%EB%AF%B8-%EC%A0%81%EC%9A%A9%EB%90%9C-migration-%EB%82%B4%EC%9A%A9%EC%9D%84-%EC%88%98%EC%A0%95%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EA%B2%BD%EC%9A%B0\" aria-label=\"ï¸ ì´ë¯¸ ì ìš©ëœ migration ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³  ì‹¶ì€ ê²½ìš° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤·ğŸ¼â€â™€ï¸ ì´ë¯¸ ì ìš©ëœ migration ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³  ì‹¶ì€ ê²½ìš°?</h2>\n<p>në²ˆì§¸ migration ì ìš© ë‚´ì—­ì„ ìˆ˜ì •í•˜ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•˜ë©´ ë ê¹Œ?\nn+1ë²ˆì§¸ì˜ ìƒˆë¡œìš´ migration scriptë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤. ìœ„ì— ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼\nì´ë¯¸ ì ìš©ëœ migrationì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì€ ë°ì´í„°ë² ì´ìŠ¤ì— ì¶©ëŒì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ë„ ìˆê³ , ì´í›„ì— ì ìš©í•  migrationì—ì„œ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.</p>\n<p>ê·¸ë˜ë„ në²ˆì§¸ë¡œ ì ìš©ëœ migrationì„ ìˆ˜ì •í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œë°œì„ í•˜ê³  ì‹¶ë‹¤ë©´,\nì´ì „ n-1ë²ˆì§¸ versionìœ¼ë¡œ revertë¥¼ ìˆ˜í–‰í•œë’¤ì— ìƒˆë¡­ê²Œ në²ˆì§¸ migration scriptë¥¼ ìƒì„±í•˜ê³  ì ìš©í•˜ë©´ ëœë‹¤.</p>\n<p>Â </p>\n<h2 id=\"-migrationì„-squashí•˜ì—¬-logë¥¼-ê´€ë¦¬í•˜ê³ -ì‹¶ì€-ê²½ìš°\" style=\"position:relative;\"><a href=\"#-migration%EC%9D%84-squash%ED%95%98%EC%97%AC-log%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EA%B2%BD%EC%9A%B0\" aria-label=\" migrationì„ squashí•˜ì—¬ logë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ì€ ê²½ìš° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤·ğŸ» migrationì„ Squashí•˜ì—¬ logë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ì€ ê²½ìš°?</h2>\n<p><code class=\"language-text\">python manage.py squashmigrations</code>ë¥¼ ì‚¬ìš©í•˜ì—¬\nì¡´ì¬í•˜ëŠ” ë§ì€ ìˆ˜ì˜ migrationì„ í•œ ê°œ(ë˜ëŠ” ê·¸ ì´ìƒ)ì˜ migrationìœ¼ë¡œ í•©ì³ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´ <code class=\"language-text\">CreateModel</code>ê³¼ <code class=\"language-text\">DeleteModel</code> actionì„ í•©ì¹  ìˆ˜ ìˆê³ , <code class=\"language-text\">AddField</code> actionì„ <code class=\"language-text\">CreateModel</code> ë‚´ë¶€ë¡œ roll ì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>\n<p>squashëœ migrationê³¼ ì´ì „ ë²„ì „ì˜ migration logëŠ” ë™ì‹œì— ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.\nDjangoëŠ” migrationì´ ì ìš©ë˜ëŠ” ì‹œì ì„ ìë™ìœ¼ë¡œ íŒŒì•…í•˜ì—¬ ìƒˆë¡œìš´ versionì—ì„œëŠ” squashëœ migrationì„ ì ìš©í•˜ê³  ì´ì „ ë²„ì „ì˜ migrationì„ skipí•œë‹¤.</p>\n<p><code class=\"language-text\">--squashed-name</code> ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ squashí•  migration scriptì˜ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ python manage.py squashmigrations <span class=\"token punctuation\">[</span>app_name<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>number<span class=\"token punctuation\">]</span> <span class=\"token parameter variable\">--squaushed_name</span> <span class=\"token punctuation\">[</span>SQUASHED_NAME<span class=\"token punctuation\">]</span>\nWill squash the following migrations:\n - 0001_initial\n - 0002_some_change\n - 0003_another_change\n - 0004_undo_something\nDo you wish to proceed? <span class=\"token punctuation\">[</span>y/N<span class=\"token punctuation\">]</span> y\nOptimizing<span class=\"token punctuation\">..</span>.\n  Optimized from <span class=\"token number\">12</span> operations to <span class=\"token number\">7</span> operations.\nCreated new squashed migration /home/andrew/Programs/DjangoTest/test/migrations/0001_squashed_0004_undo_somthing.py\n  You should commit this migration but leave the old ones <span class=\"token keyword\">in</span> place<span class=\"token punctuation\">;</span>\n  the new migration will be used <span class=\"token keyword\">for</span> new installs. Once you are sure\n  all instances of the codebase have applied the migrations you squashed,\n  you can delete them.</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-migration%EC%9D%B4%EB%9E%80\">ğŸ’¡ Migrationì´ë€?</a></li>\n<li><a href=\"#--%EC%A0%81%EC%9A%A9%EB%90%9C-migration-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\">ğŸ”‘  ì ìš©ëœ migration í™•ì¸í•˜ê¸°</a></li>\n<li><a href=\"#%EF%B8%8F-%EC%9D%B4%EB%AF%B8-%EC%A0%81%EC%9A%A9%EB%90%9C-migration%EC%9D%84-revert%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EA%B2%BD%EC%9A%B0\">ğŸ¤·ğŸ»â€â™‚ï¸ ì´ë¯¸ ì ìš©ëœ migrationì„ Revertí•˜ê³  ì‹¶ì€ ê²½ìš°?</a></li>\n<li><a href=\"#%EF%B8%8F-%EC%9D%B4%EB%AF%B8-%EC%A0%81%EC%9A%A9%EB%90%9C-migration-%EB%82%B4%EC%9A%A9%EC%9D%84-%EC%88%98%EC%A0%95%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EA%B2%BD%EC%9A%B0\">ğŸ¤·ğŸ¼â€â™€ï¸ ì´ë¯¸ ì ìš©ëœ migration ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³  ì‹¶ì€ ê²½ìš°?</a></li>\n<li><a href=\"#-migration%EC%9D%84-squash%ED%95%98%EC%97%AC-log%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EA%B2%BD%EC%9A%B0\">ğŸ¤·ğŸ» migrationì„ Squashí•˜ì—¬ logë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ì€ ê²½ìš°?</a></li>\n</ul>\n</div>","excerpt":"ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©° ëª¨ë¸ì„ ë³€ê²½í•´ì•¼ í•  ì¼ì´ ìƒˆê²¼ë‹¤.\ní…Œì´ë¸”ì„ ìˆ˜ì •í•˜ê³  migrationì„ ì ìš©í•˜ë©´ì„œ dependency ì˜¤ë¥˜ë¶€í„° relationExists ì˜¤ë¥˜ê¹Œì§€ ì•„ì£¼ ë‚œí•­ì„ ê²ªì—ˆë‹¤. ì‚¬ì‹¤ í† ì´í”„ë¡œì íŠ¸ì—ì„œëŠ” migrationì´ ê¼¬ì´ë©´ ê·¸ëƒ¥ ì „ë¶€ ë°€ì–´ë²„ë¦¬ê³  ë‹¤ì‹œ ì ìš©í•˜ë©´ ê·¸ë§Œì´ì—ˆë‹¤.\ní•˜ì§€ë§Œ ì‹¤ì œë¡œ ë°°í¬ë˜ê³  ë°ì´í„°ê°€ ë‹´ê²¨ ìˆëŠ” DBì˜ í…Œì´ë¸”ì„ ìˆ˜ì •í•˜ëŠ” ê²½ìš°ì—ëŠ” ì´ëŸ° 1ì°¨ì›ì ì¸ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ëŠ” ì—†ì—ˆë‹¤. ë‹¤ì†Œ ê¸´ ì‚½ì§ˆì˜ ê³¼ì •ì„ ê²½í—˜í•˜ë©°, ë‚´ê°€ migrationì— ëŒ€í•˜ì—¬ ì •í™•íˆ ì´í•´ë¥¼ í•˜ì§€ ëª»í•˜ê³  ìˆìŒì„ ê¹¨ë‹¬ì•˜ë‹¤. Â  ğŸ’¡ Migrationì´ë€? ì¼ì¢…ì˜ database version control logë¼ê³  ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.\n ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ ê° appì˜ ëª¨ë¸ì— ëŒ€í•œ ë³€ê²½ì‚¬í•­ì„ ê¸°ë¡í•œ python scriptê°€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê³   ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ dbì— ë³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•  ìˆ˜ ìˆë‹¤.\nì´ migration scriptëŠ”  í˜•ì‹ìœ¼ë¡œ ë„¤ì´ë°ë˜ë©°,\nëª¨ë¸ ê°„ì˜ ê´€ê³„(ìƒì„± ìˆœì„œ, ì°¸ì¡° ë°©í–¥â€¦","frontmatter":{"date":"December 30, 2022","title":"Djangoì—ì„œ migrationìœ¼ë¡œ í…Œì´ë¸” ê´€ë¦¬í•˜ê¸°","categories":"ì›¹ í”„ë ˆì„ì›Œí¬","author":"ì†Œí¬","emoji":"ğŸ¤"},"fields":{"slug":"/django-migration-management/"}},"next":null,"prev":null,"site":{"siteMetadata":{"siteUrl":"https://soheeeep.github.io","comments":{"utterances":{"repo":"https://github.com/soheeeeP/soheeeep.github.io"}}}}},"pageContext":{"slug":"/django-migration-management/","nextSlug":"","prevSlug":""}},
    "staticQueryHashes": ["1073350324","2938748437"]}